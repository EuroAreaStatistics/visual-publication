!function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(n){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?t(Object(r),!0).forEach((function(t){e(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var i,r=function(e,t){var n=["lastNObservations","startPeriod"].filter((function(t){return t in e}));return t?t+"/"+e.code.replace(".","/")+encodeURIComponent((n.length?"?":"")+n.map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")):"https://sdw-wsrest.ecb.europa.eu/service/data/"+e.code.replace(".","/")+(n.length?"?":"")+n.map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},o={},a=[{code:"BKN.M.U2.NC10.B..AS.S.Q",lastNObservations:1,description:"Banknotes statistics - number of banknotes in circulation - all banknote denominations (outstanding, denominated in quantity)"},{code:"BKN.M.U2.NC10.C..AS.S.Q",lastNObservations:1,description:"Banknotes statistics - number of coins in circulation - all coins denominations (outstanding, denominated in quantity)"}],s=(i="../../data",function(e){var t=r(e,i);return t in o||(o[t]=new Promise((function(e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){this.status>=200&&this.status<400?e(JSON.parse(this.responseText)):n(this.status+" "+this.statusText)})),i.open("GET",t),i.setRequestHeader("Accept","application/json"),i.send()}))),o[t]}),c=function(e,t){var i={BKN_DENOM:"coicop",TIME_PERIOD:"time"},r=0==t?{}:{ALLD:"ALLC"},o=e.structure.dimensions.series.concat(e.structure.dimensions.observation),a=o.map((function(e){return e.values.length}));a.shift();var s=o.filter((function(e){return 1!=e.values.length||"time"===i[e.id]})).map((function(e){var t=e.id in i?i[e.id]:e.id,o="coicop"===t?e.values.map((function(e){var t=e.id in r?r[e.id]:e.id;return n(n({},e),{},{id:t})})):e.values;return n(n({},e),{},{id:t,values:o})})),c={};Object.keys(e.dataSets[0].series).forEach((function(t){var n=e.dataSets[0].series[t],i=0;t.split(":").forEach((function(e,t){i+=parseInt(e),i*=a[t]})),Object.keys(n.observations).forEach((function(e){var t=n.observations[e][0];t=Math.round(1e3*t),c[i+parseInt(e)]=t}))}));var u={};return s.forEach((function(e){u[e.id]={category:{index:{}}},e.values.forEach((function(t,n){u[e.id].category.index[t.id]=n}))})),{class:"dataset",value:c,dimension:u,id:s.map((function(e){return e.id})),size:s.map((function(e){return e.values.length})),extension:{datasetId:"nama_10_co3_p3"}}};a.map((function(e){return r(e)}));window.fetchDataSet=function(){return Promise.all(a.map(s)).then((function(e){var t=e.map(c);if(Object.keys(t[0].dimension.time.category.index)[0]!==Object.keys(t[1].dimension.time.category.index)[0])throw new Error("time mismatch");Object.keys(t[1].dimension.coicop.category.index).forEach((function(e){var n=t[1].dimension.coicop.category.index[e],i=n+t[0].size[0];t[0].value[i]=t[1].value[n],t[0].dimension.coicop.category.index[e]=i})),t[0].size[0]+=t[1].size[0];var n=t[0].value[t[0].dimension.coicop.category.index.ALLD]+t[0].value[t[0].dimension.coicop.category.index.ALLC];return Object.keys(t[0].value).forEach((function(e){t[0].value[parseInt(e)+t[0].size[0]+1]=parseFloat((t[0].value[e]/1e6).toFixed(0)),t[0].value[e]=parseFloat((t[0].value[e]/n*100).toFixed(2))})),t[0].value[t[0].size[0]]=100,t[0].value[t[0].size[0]+t[0].size[0]+1]=parseFloat((n/1e6).toFixed(0)),t[0].dimension.coicop.category.index.TOTAL=t[0].size[0],t[0].size[0]++,t[0].dimension.geo={category:{index:{EU28:0}}},t[0].id.push("geo"),t[0].size.push(1),t[0].dimension.unit={category:{index:{PC_TOT:0,PC_GDP:1}}},t[0].id.unshift("unit"),t[0].size.unshift(2),t[0]}))},window.downloadDataSet=function(){Promise.all(a.map(s)).then((function(e){var t=XLSX.utils.book_new();e.forEach((function(e,n){var i;XLSX.utils.book_append_sheet(t,(i=a[n],function(e){var t=r(i),n=i.description,o=e.structure.links[0].href.split("/")[6],a=e.structure.dimensions.observation[0].values,s=e.structure.dimensions.series,c=e.structure.attributes.series,u="";c.forEach((function(e){!e.values.length||"TITLE_COMPL"!==e.id&&"COMMENT_TS"!==e.id||(u=e.values[0].name)})),u&&(s.forEach((function(e){e.values.length>1&&(u=u.replace(e.values[0].name,""))})),u=(u=(u=u.replace(/- *[,-]/g,"-")).replace(/, *,/g,",")).replace(/^ *, */g,""));var d=["Statistical Data Warehouse code"].concat(s.filter((function(e){return e.values.length>1})).map((function(e){return e.name}))).concat(a.map((function(e){return e.name}))),l=[d],f=function(t){var n=e.dataSets[0].series[t],i=t.split(":"),r=[],c=[o];s.forEach((function(e,t){var n=e.values[i[t]];c.push(n.id),e.values.length>1&&r.push(n.name)})),r.unshift(c.join(".")),a.forEach((function(e,t){var i=n.observations[t];r.push(void 0!==i?i[0]:null)})),l.push(r)};for(var p in e.dataSets[0].series)f(p);var v=[[n],[u],["URL: ".concat(t)],[]],m=XLSX.utils.aoa_to_sheet(v.concat(l));return m["!merges"]=[{s:{r:0,c:0},e:{r:0,c:10}},{s:{r:1,c:0},e:{r:1,c:10}},{s:{r:2,c:0},e:{r:2,c:10}}],m["!cols"]=d.map((function(e,t){var n=e.length;return l.forEach((function(e){e[t]&&e[t].length>n&&(n=e[t].length)})),{width:n+1}})),m})(e))})),XLSX.writeFile(t,"exportedData.xlsx")}))},window.formatNumber=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"thousands_separator".toLocaleString()),t.join("decimal_separator".toLocaleString())}}();
